<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:social="http://spring.io/springsocial">
<head lang="en">
    <meta charset="UTF-8" />
    <title>Spring Social Ecobee Showcase</title>
</head>
<body>

    <div>
        <h1><a th:href="@{/}">Spring Social Ecobee Showcase</a></h1>
    </div>

    <div>
        <h3>Your Connections</h3>
        <div class="accountConnection" th:each="providerId : ${providerIds}">
            <h4><img th:src="@{#{${providerId} + '.icon'}}" width="36" height="36" /><span th:text="#{${providerId} + '.displayName'}">provider name</span></h4>
            <p>
 				<span th:if="${!#lists.isEmpty(connectionMap[__${providerId}__])}">
					You are connected to <span th:text="#{${providerId} + '.displayName'}">provider name</span> as <span th:text="${connectionMap[__${providerId}__][0].displayName}">user display name</span>.
				</span>
				<span th:if="${#lists.isEmpty(connectionMap[__${providerId}__])}">
					You are not yet connected to <span th:text="#{${providerId} + '.displayName'}">provider name</span>.
				</span>
                Click <a th:href="@{'/connect/' + ${providerId}}">here</a> to manage your <span th:text="#{${providerId} + '.displayName'}">provider name</span> connection.
            </p>
        </div>
    </div>

</body>
</html>